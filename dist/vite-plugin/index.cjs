"use strict";var A=Object.create;var g=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var z=Object.getOwnPropertyNames;var C=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var I=(t,e)=>{for(var r in e)g(t,r,{get:e[r],enumerable:!0})},v=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of z(e))!M.call(t,o)&&o!==r&&g(t,o,{get:()=>e[o],enumerable:!(i=k(e,o))||i.enumerable});return t};var h=(t,e,r)=>(r=t!=null?A(C(t)):{},v(e||!t||!t.__esModule?g(r,"default",{value:t,enumerable:!0}):r,t)),L=t=>v(g({},"__esModule",{value:!0}),t);var R={};I(R,{default:()=>D});module.exports=L(R);var b=h(require("path"),1),n=h(require("chalk"),1),T=require("vite-plugin-run");var d=t=>typeof t=="string";var f=t=>t instanceof Error;var U=Function.prototype.toString;var E={sail:!1,types:!0,typesOnly:!1,delay:100,throttle:300,only:[],except:[]};var N=(t,e)=>{let r=[e.sail&&!process.env.LARAVEL_SAIL?"sail":"php","artisan","rzl-ziggy:generate"];return e.group&&r.push("--group",e.group),e.url&&r.push("--url",e.url),["1","2"].includes(t)&&(e.types&&r.push("--types"),e.typesOnly&&r.push("--types-only"),t==="1"&&(e.only.length>0&&r.push("--only",e.only.join(",")),e.except.length>0&&r.push("--except",e.except.join(",")))),r};var j=require("fs"),S=require("path");var a=h(require("chalk"),1);var y={PACKAGE:{NPM_NAME:"@rzl-zone/ziggy-route",PACKAGIST_NAME:"rzl-zone/ziggy-route",PREFIX:{NAME:"RZL ZIGGY"}},REPO:{LINK:"https://github.com/rzl-zone/ziggy-route"}};var p=a.default.bgHex("#00bcd4").black.bold(` ${y.PACKAGE.PREFIX.NAME} `),c={info:(t,e)=>{console.log(`
${p} ${a.default.blueBright(t)} ${a.default.gray("\u2192")} ${a.default.white(e)}`)},success:(t,e)=>{console.log(`
${p} ${a.default.greenBright("\u2705 "+t)} ${a.default.gray("\u2192")} ${a.default.whiteBright(e)}`)},warn:(t,e)=>{console.warn(`
${p} ${a.default.yellow("\u26A0\uFE0F  "+t)} ${a.default.gray("\u2192")} ${a.default.yellowBright(e)}`)},error:(t,e)=>{console.error(`
${p} ${a.default.redBright("\u274C "+t)} ${a.default.gray("\u2192")} ${a.default.red(e)}`)},throw:(t,e)=>{throw f(e)?(c.error(t,e.message),process.env.NODE_ENV==="development"&&e.stack&&console.error(a.default.gray(e.stack)),e):(c.error(t,"Unknown error occurred"),new Error(d(e)?e:"Unknown error"))},raw:t=>console.log(`
${p} ${t}`)};function u(t,e){throw c.throw(t,e),d(e)?new Error(e):e}var{PACKAGIST_NAME:m}=y.PACKAGE,x=()=>{try{let t=(0,S.resolve)(process.cwd(),"composer.json"),e=JSON.parse((0,j.readFileSync)(t,"utf-8"));e.require?.[m]||u("composer.json",`${m} not found in composer.json dependencies`);let r=e.require[m],i=r.match(/^[~^><]?(\d+)/);i||u("Version Format",`Invalid version format for ${m}: ${r}`);let o=i[1];return c.success("Composer Package",`${m} v${o}`),o}catch(t){f(t)&&(t.code==="ENOENT"&&u("composer.json",`File not found in ${process.cwd()}`),u("Version Fetch Failed",t)),u("Unknown Error","Something exploded \u{1F4A3}")}};var D=(t={})=>{try{let e=x(),{delay:r,throttle:i,...o}=t,w=N(e,{...E,...o}),{configResolved:O,handleHotUpdate:$}=(0,T.run)(process.env.NODE_ENV==="development"?[{delay:r,throttle:i,onFileChanged:({file:s})=>{let l=b.default.relative(process.cwd(),s).replace(/\\/g,"/");console.log(`
\u{1F6F0}\uFE0F  ${n.default.cyanBright("Live Watcher")} ${n.default.gray("detected change in")} ${n.default.yellowBright(l)}`),console.log(`${n.default.hex("#ff6f00")("\u{1F501} Rerunning")} ${n.default.bold.cyan(w.join(" "))} ${n.default.gray("...syncing fresh routes \u{1F6A6}")}
`)},name:"rzl-ziggy-generator",run:w,pattern:["routes/**/*.php","config/rzl-ziggy.php",".env",".env.*",".env.*.*"],condition:s=>{let l=b.default.relative(process.cwd(),s).replace(/\\/g,"/");return s.includes("/config/")&&s.endsWith("rzl-ziggy.php")||s.includes("/routes/")&&s.endsWith(".php")||l===".env"||l.startsWith(".env.")||/^config\/rzl-ziggy.php$/.test(l)||/^routes\/.*\.php$/.test(l)||/\.env(\..+)?$/.test(l)}}]:[]);return{name:"rzl-ziggy-plugin",configResolved:O,handleHotUpdate:$}}catch(e){if(console.error(`
${n.default.bgRed.white.bold(" RZL ZIGGY ERROR ")} ${n.default.redBright("An error occurred in")} ${n.default.yellow("[@rzl-zone/ziggy-route/vite-plugin]")} \u{1F6A8}`),f(e))console.error(`${n.default.red("\u274C Message:")} ${n.default.white(e.message)}`),process.env.NODE_ENV==="development"?console.error(`${n.default.gray("\u{1F4CD} Stack Trace:")}
${n.default.dim(e.stack||"")}`):console.error(`${n.default.gray("\u2139\uFE0F  Tip:")} Run in ${n.default.cyan("development")} mode to see stack trace.`);else throw console.error(`${n.default.red("\u2753 Unknown error type thrown:")}`),e}return{}};
