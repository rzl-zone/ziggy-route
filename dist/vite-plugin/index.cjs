"use strict";var e=require("../chunk-GXOYTAOD.cjs"),r=require("path"),t=require("chalk"),o=require("vite-plugin-run"),n=require("fs");function a(e){return e&&e.__esModule?e:{default:e}}var l=a(r),i=a(t),s={sail:!1,types:!0,typesOnly:!1,delay:250,throttle:250,only:[],except:[]},{bgHex:p,blueBright:u,greenBright:c,gray:f,red:y,redBright:h,white:d,whiteBright:g,yellow:$,yellowBright:w}=i.default,m=p("#00bcd4").black.bold(` ${e.CONFIG.PACKAGE.PREFIX.NAME} `),v={info:(e,r)=>{console.log(`\n${m} ${u("‚ÑπÔ∏è "+e)} ${f("‚ûî")} ${d(r)}`)},success:(e,r)=>{console.log(`\n${m} ${c("‚úÖ "+e)} ${f("‚ûî")} ${g(r)}`)},warn:(e,r)=>{console.warn(`\n${m} ${$("‚ö†Ô∏è  "+e)} ${f("‚ûî")} ${w(r)}`)},error:(e,r)=>{console.error(`\n${m} ${h("‚ùå "+e)} ${f("‚ûî")} ${y(r)}`)},throw:(r,t)=>{throw e.g(t)?(v.error(r,t.message),"development"===process.env.NODE_ENV&&t.stack&&console.error(f(t.stack)),t):(v.error(r,"Unknown error occurred"),new Error(e.i(t)?t:"Unknown error"))},raw:e=>console.log(`\n${m} ${e}`)};function b(r,t){throw v.throw(r,t),e.i(t)?new Error(t):t}var{PACKAGIST_NAME:E}=e.CONFIG.PACKAGE;module.exports=(t={})=>{e.n(t)||(t={});try{const a=(()=>{try{const t=r.resolve(process.cwd(),"composer.json"),o=n.readFileSync(t,"utf-8"),a=e.h(o);a?.require?.[E]||b("composer.json",`${E} not found in composer.json dependencies`);const l=a.require[E],i=l.match(/^[~^><]?(\d+)/);i||b("Version Format",`Invalid version format for ${E}: ${l}`);const s=i[1];return v.success("Composer Package",`${E} v${s}`),s}catch(r){e.g(r)&&("ENOENT"===r.code&&b("composer.json",`File not found in: ${process.cwd()}.`),b("Version Fetch Failed",r)),b("Unknown Error","Something exploded üí£")}})(),{delay:p=s.delay,throttle:u=s.throttle,except:c=s.except,group:f=s.group,only:y=s.only,sail:h=s.sail,types:d=s.types,typesOnly:g=s.typesOnly,url:$=s.url}=t;if(!e.e3(p))throw new TypeError(`Parameter \`delay\` property of the \`config\` (first parameter) must be of type \`integer-number\`, but received: \`${e.x(p)}\`, with value: \`${e.realValue(p)}\`.`);if(!e.e3(u))throw new TypeError(`Parameter \`throttle\` property of the \`config\` (first parameter) must be of type \`integer-number\`, but received: \`${e.x(u)}\`, with value: \`${e.realValue(u)}\`.`);if(!e.o(c))throw new TypeError(`Parameter \`except\` property of the \`config\` (first parameter) must be of type \`array\`, but received: \`${e.x(c)}\`, with value: \`${e.realValue(c)}\`.`);if(!e.p(f)&&!e.i(f))throw new TypeError(`Parameter \`group\` property of the \`config\` (first parameter) must be of type \`string\`, but received: \`${e.x(f)}\`, with value: \`${e.realValue(f)}\`.`);if(!e.o(y))throw new TypeError(`Parameter \`only\` property of the \`config\` (first parameter) must be of type \`array\`, but received: \`${e.x(y)}\`, with value: \`${e.realValue(y)}\`.`);if(!e.e(h))throw new TypeError(`Parameter \`sail\` property of the \`config\` (first parameter) must be of type \`boolean\`, but received: \`${e.x(h)}\`, with value: \`${e.realValue(h)}\`.`);if(!e.e(d))throw new TypeError(`Parameter \`types\` property of the \`config\` (first parameter) must be of type \`boolean\`, but received: \`${e.x(d)}\`, with value: \`${e.realValue(d)}\`.`);if(!e.e(g))throw new TypeError(`Parameter \`typesOnly\` property of the \`config\` (first parameter) must be of type \`boolean\`, but received: \`${e.x(g)}\`, with value: \`${e.realValue(g)}\`.`);if(!e.p($)&&!e.i($))throw new TypeError(`Parameter \`url\` property of the \`config\` (first parameter) must be of type \`string\`, but received: \`${e.x($)}\`, with value: \`${e.realValue($)}\`.`);const w=c.filter(r=>!e.i(r));if(w.length>0)throw new TypeError(`Parameter \`except\` property of the \`config\` (first parameter) must be of type \`array-of-string\` and contains \`string\` only, invalid values: ${w.map(r=>`\n\`${e.x(r)}\`: \`${e.realValue(r)}\``).join(", ")}`);const m=y.filter(r=>!e.i(r));if(m.length>0)throw new TypeError(`Parameter \`only\` property of the \`config\` (first parameter) must be of type \`array-of-string\` and contains \`string\` only, invalid values: ${m.map(r=>`\n\`${e.x(r)}\`: \`${e.realValue(r)}\``).join(", ")}`);const x=((e,r)=>{const t=[r.sail&&!process.env.LARAVEL_SAIL?"sail":"php","artisan","rzl-ziggy:generate"];return r.group&&t.push("--group",r.group),r.url&&t.push("--url",r.url),["0","1","2"].includes(e)&&(r.types&&t.push("--types"),r.typesOnly&&t.push("--types-only"),"0"!==e&&"1"!==e||(r.only.length>0&&t.push("--only",r.only.join(",")),r.except.length>0&&t.push("--except",r.except.join(",")))),t})(a,{delay:p,throttle:u,except:c,group:f,only:y,sail:h,types:d,typesOnly:g,url:$}),{configResolved:V,handleHotUpdate:P}=o.run("development"===process.env.NODE_ENV?[{delay:p,throttle:u,onFileChanged:({file:e})=>{const r=l.default.relative(process.cwd(),e).replace(/\\/g,"/");console.log(`\nüõ∞Ô∏è  ${i.default.cyanBright("Live Watcher")} ${i.default.gray("detected change in")} ${i.default.yellowBright(r)}`),console.log(`${i.default.hex("#ff6f00")("üîÅ Rerunning")} ${i.default.bold.cyan(x.join(" "))} ${i.default.gray("...syncing fresh routes üö¶")}\n`)},name:"rzl-ziggy-generator",run:x,pattern:["routes/**/*.php","config/rzl-ziggy.php",".env",".env.*",".env.*.*"],condition:e=>{const r=l.default.relative(process.cwd(),e).replace(/\\/g,"/");return e.includes("/config/")&&e.endsWith("rzl-ziggy.php")||e.includes("/routes/")&&e.endsWith(".php")||".env"===r||r.startsWith(".env.")||/^config\/rzl-ziggy.php$/.test(r)||/^routes\/.*\.php$/.test(r)||/\.env(\..+)?$/.test(r)}}]:[]);return{name:"rzl-ziggy-plugin",configResolved:V,handleHotUpdate:P}}catch(r){if(console.error(`\n${i.default.bgRed.white.bold(" RZL ZIGGY ERROR ")} ${i.default.redBright("An error occurred in")} ${i.default.yellow("[@rzl-zone/ziggy-route/vite-plugin]")} üö®`),!e.g(r))throw console.error(`${i.default.red("‚ùì Unknown error type thrown:")}`),r;console.error(`${i.default.red("‚ùå Message:")} ${i.default.white(r.message)}`),"development"===process.env.NODE_ENV?console.error(`${i.default.gray("üìç Stack Trace:")}\n${i.default.dim(r.stack||"")}`):console.error(`${i.default.gray("‚ÑπÔ∏è  Tip:")} Run in ${i.default.cyan("development")} mode to see stack trace.`)}return{}};